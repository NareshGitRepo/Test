<div fxLayout="row wrap" id="page-title" style="padding-right:0;" class="scroll-top">

  <div fxFlex="70">
    <button mat-raised-button class="btn-green" (click)="createGroup()" style="margin-left: 5px; margin-bottom: 8px;">
      <i class="ti-plus"></i> &nbsp; {{'GroupsModule.addgroup' | translate }}</button>
  </div>
  <div fxFlex="30" class="text-right pad-rgt">
    <a [matMenuTriggerFor]="SearchGrid"><img src="assets/images/filter-icon.png" width="12" /></a> &nbsp;
    <mat-form-field>
      <mat-menu #SearchGrid="matMenu">
        <button mat-menu-item (click)="_filterType='1'"><i class="ti-check"></i> 
          {{ 'ActionNames.active' |translate}}</button>
        <button mat-menu-item (click)="_filterType='0'"><i class="ti-close"></i> {{'ActionNames.deActive' |
          translate}}</button>
        <button mat-menu-item (click)="_filterType=''"><i class="ti-reload"></i> {{ 'ActionNames.reset' |
          translate}}</button>
      </mat-menu>
      <input matInput [(ngModel)]="searchdata" placeholder="{{ 'GroupsModule.search' | translate}}{{_filterType ==''?'':'-'}}{{_filterType =='1' ?  ('ActionNames.active' | translate) : (_filterType =='0' ?  ('ActionNames.deActive' |
      translate) :'')}}">
    </mat-form-field>
  </div>
</div>

<div fxLayout="row wrap">
  <div fxFlex.gt-sm="33.3" fxFlex.gt-xs="50" fxFlex="100"
    *ngFor="let item of filterGroups | Userfilter : groupDetails: searchdata:'organization':_filterType">
    <mat-card fxFlex class="usercard">
      <mat-card-content>
        <div class="clearfix text-center">
          <div class="pad-all2 clearfix">
            <div class="clearfix card-top">
              <div>

                <div *ngIf="item.status" class="card-avatar">
                  <ngx-avatar size="60" name="{{item.organization}}"></ngx-avatar>
                  <span class="status-g active"></span>
                </div>
                <div *ngIf="!item.status" class="card-avatar">
                  <ngx-avatar size="60" name="{{item.organization}}"></ngx-avatar>
                  <span class="status-g inactive"></span>
                </div>

                <!-- <div *ngIf="item.status == true" class="card-avatar">
                  <div class="avatar-inner">
                    <img src="assets/images/group.svg">
                  </div>
                </div>
                <div *ngIf="item.status == false" class="card-avatar">
                  <div class="avatar-inner">
                    <img src="assets/images/group-inactive.svg">
                  </div>
                </div> -->

                <div>
                  <div class="card-details wrap-word">
                    <small><b>{{'GroupsModule.group' | translate }} </b> : {{item.organization}} </small>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="Umore-btn">
            <button mat-icon-button [matMenuTriggerFor]="UcardEdit"><i class="ti-more-alt"></i></button>
            <mat-menu #UcardEdit="matMenu">
              <button mat-menu-item (click)="groupDetailsInfo(item)"><i class="ti-info-alt"></i> 
                {{ 'ClientsModule.details' | translate}}</button>
            </mat-menu>
          </div>

        </div>

        <div class="clearfix devicecard-footer">
          <div class="col-sm-6 pad-no">
            <button mat-menu-item (click)="onUpdate(item)"
              [ngClass]="{disablebutton: item.status == false , enablebutton: item.status == true}"
              [disabled]="!item.status == true"><i class="ti-pencil-alt"></i>
              {{'ActionNames.edit' | translate }}</button>
          </div>
          <div class="col-sm-6 pad-no">
            <div *ngIf="!item.status">
              <button mat-menu-item (click)=" applyFilterStatus(item,1)" class="pull-right"><i class="ti-check"></i>
                {{'ActionNames.activate' | translate }} </button>
            </div>

            <div *ngIf="item.status">
              <button mat-menu-item (click)=" applyFilterStatus(item,0)" class="pull-right"><i class="ti-close"></i>
                {{'ActionNames.deActivate' | translate }} </button>
            </div>
          </div>
        </div>

      </mat-card-content>
    </mat-card>
  </div>

</div>

<div *ngIf="groupDetails?.length> pageSize">
  <mat-paginator [length]="groupDetails?.length" [pageSize]="pageSize" [pageIndex]="initPage" (page)="getData($event)">
  </mat-paginator>
</div>


<div class="fullloader" *ngIf="loading">
  <div class="fullloaderInner">
    <img src="assets/images/loading.gif">
  </div>
</div>
